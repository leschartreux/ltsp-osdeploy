#!/bin/bash


## Copyright (c) 2003-2013 Tissoires Jean-FranÃ§ois & Benjamin,  jftissoires@gmail.com
## CÃ©dÃ©rom Outil SystÃšme Complet d'Assistance RÃ©seau: OSCAR
## CÃ©dÃ©rom Rapide de Sauvegarde aux Ordinateurs et SystÃšmes: RapideSOS
## Ce programme est sous Licence Publique GÃ©nÃ©rale GNU publiÃ©e par la Free Software Foundation.


#----------------------------------------------------------------------------------------------------
main()
{
rm -f /tmp/tempfile
calendrier=$(date +%d/%m/%y)
heure=$(date +%kh%Mmin)
rm -f /tmp/rien
_unite=b
valeur=$vitesse_transmission$_unite
echo "  \Zn  \Zn  \Zn  \Zn  \Zn  \Zn  \Zn  \Zn  \Zn  \Zn  \Zn  \Zn  " > /tmp/rien
#output=exit
dialog  --no-cancel --colors --no-shadow --backtitle "`cat /etc/banniere_oscar`" --title " Vitesse de transmission des données " \
	--menu  "  `cat $chemin_langue/menu_1` `cat /tmp/rien`  le $calendrier Ã $heure " 7 80 0  \
	" " "\Zb\Z4`cat $chemin_langue/menu_442` \Z3$valeur/s\Z4 :" \
	" " "" \
	accepter "\Z1`cat $chemin_langue/menu_449` : \Zb\Z3$valeur/s\Zn\Z4." \
	" " "" \
	" " "\Zb\Z4`cat $chemin_langue/menu_443` \Z1100mb/s\Z4:" \
	10mb/s "\Z4`cat $chemin_langue/menu_444`" \
	25mb/s "\Z4`cat $chemin_langue/menu_445`" \
	50mb/s "\Z4`cat $chemin_langue/menu_446`" \
	75mb/s "\Z4`cat $chemin_langue/menu_447`" \
	100mb/s "\Z4`cat $chemin_langue/menu_448` " \
	" " "" \
	" " "\Zb\Z4`cat $chemin_langue/menu_450` \Z11000mb/s\Z4 :" \
	200mb/s "\Z4`cat $chemin_langue/menu_444`" \
	350mb/s "\Z4`cat $chemin_langue/menu_445`" \
	500mb/s "\Z4`cat $chemin_langue/menu_446`" \
	750mb/s "\Z4`cat $chemin_langue/menu_447`" \
	1000mb/s "\Z4`cat $chemin_langue/menu_448` " \
	" " "" 2>/tmp/tempfile
	
if [ $? = "255" ]
then
    rm -f /tmp/tempfile
    rm -f /tmp/rien
    exit
fi
output=`cat /tmp/tempfile`
rm -f /tmp/rien

if [ "$output" = " " ]
	then
	main
elif [ "$output" = "" ]
	then
	main
elif [ "$output" = "10mb/s" ]
then
        vitesse_transmission=10m
        main
elif [ "$output" = "25mb/s" ]
then
        vitesse_transmission=25m
        main
elif [ "$output" = "50mb/s" ]
then
        vitesse_transmission=50m
        main
elif [ "$output" = "75mb/s" ]
then
        vitesse_transmission=75m
        main
elif [ "$output" = "100mb/s" ]
then
        vitesse_transmission=100m
        main
elif [ "$output" = "200mb/s" ]
then
        vitesse_transmission=200m
        main
elif [ "$output" = "350mb/s" ]
then
        vitesse_transmission=350m
        main
elif [ "$output" = "500mb/s" ]
then
        vitesse_transmission=500m
        main
elif [ "$output" = "750mb/s" ]
then
        vitesse_transmission=750m
        main
elif [ "$output" = "1000mb/s" ]
then
        vitesse_transmission=1000m
        main
elif [ "$output" = "accepter" ]
then
	rm -f vitesse_transmission
	echo "$vitesse_transmission" > vitesse_transmission
        exit
#else
#$output
fi
rm -f /tmp/tempfile
}
#----------------------------------------------------------------------------------------------------
vitesse_transmission=`cat vitesse_transmission`
rm -f /tmp/tempfile
PATH="/usr/share/oscar/bin:$PATH"
if ( test -e /usr/share/oscar/usr/choix_langue )
then
	choix_langue=`cat /usr/share/oscar/usr/choix_langue`
else
	echo "fr" > /usr/share/oscar/usr/choix_langue
	choix_langue=fr
	traduction
fi
chemin_langue=/usr/share/oscar/usr/langue/$choix_langue
main


