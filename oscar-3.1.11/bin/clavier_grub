#!/bin/bash

## Copyright (c) 2003-2013 Tissoires Jean-François & Benjamin,  jftissoires@gmail.com
## Outil Système Complet d'Assistance Réseau: OSCAR
## Rapide de Sauvegarde aux Ordinateurs et Systèmes: RapideSOS
## Ce programme est sous Licence Publique Générale GNU publiée par la Free Software Foundation.

# convertir le clavier pour grub

# fr=francais
# us=anglais
# voir repertoire /isolinux/maps


#----------------------------------------------------------------------------------------------------
convertir_clavier()	# configure pour grub
{
cd /usr/share/oscar/usr/clavier
echo "" > clavier_grub

case $choix_clavier in
	fr|azerty)
		echo "
		setkey tilde tilde
		setkey 1 exclam
		setkey 2 at
		setkey 3 numbersign
		setkey 4 dollar
		setkey 5 percent
		setkey 6 caret
		setkey 7 ampersand
		setkey 8 asterisk
		setkey 9 parenleft
		setkey 0 parenright
		setkey underscore underscore
		setkey plus plus
		
		setkey ampersand 1
		setkey tilde 2
		setkey doublequote 3
		setkey quote 4
		setkey parenleft 5
		setkey minus 6
		setkey backquote 7
		setkey underscore 8
		setkey caret 9
		setkey at 0
		setkey parenright minus
		setkey equal equal
		
		setkey A Q
		setkey Z W
		setkey E E
		setkey R R
		setkey T T
		setkey Y Y
		setkey U U
		setkey I I
		setkey O O
		setkey P P
		setkey braceleft braceleft
		setkey braceright braceright
		setkey bar bar
		
		setkey a q
		setkey z w
		setkey e e
		setkey r r
		setkey t t
		setkey y y
		setkey u u
		setkey i i
		setkey o o
		setkey p p
		setkey caret bracketleft
		setkey dollar bracketright
		setkey asterisk backslash
		
		setkey Q A
		setkey S S
		setkey D D
		setkey F F
		setkey G G
		setkey H H
		setkey J J
		setkey K K
		setkey L L
		setkey M colon
		setkey percent doublequote
		
		setkey q a
		setkey s s
		setkey d d
		setkey f f
		setkey g g
		setkey h h
		setkey j j
		setkey k k
		setkey l l
		setkey m semicolon
		setkey quote quote
		
		setkey W Z
		setkey X X
		setkey C C
		setkey V V
		setkey B B
		setkey N N
		setkey question M
		setkey period less
		setkey slash greater
		setkey question question
		
		setkey w z
		setkey x x
		setkey c c
		setkey v v
		setkey b b
		setkey n n
		setkey comma m
		setkey semicolon comma
		setkey colon period
		setkey exclam slash" > clavier_grub
	;;
	be)
		echo "
		setkey tilde tilde
		setkey 1 exclam
		setkey 2 at
		setkey 3 numbersign
		setkey 4 dollar
		setkey 5 percent
		setkey 6 caret
		setkey 7 ampersand
		setkey 8 asterisk
		setkey 9 parenleft
		setkey 0 parenright
		setkey underscore underscore
		setkey underscore plus
		
		setkey ampersand 1
		setkey at 2
		setkey doublequote 3
		setkey quote 4
		setkey parenleft 5
		setkey caret 6
		setkey backquote 7
		setkey exclam 8
		setkey braceleft 9
		setkey braceright 0
		setkey parenright minus
		setkey minus equal
		
		setkey A Q
		setkey Z W
		setkey E E
		setkey R R
		setkey T T
		setkey Y Y
		setkey U U
		setkey I I
		setkey O O
		setkey P P
		setkey braceleft braceleft
		setkey braceright braceright
		setkey bar bar
		
		setkey a q
		setkey z w
		setkey e e
		setkey r r
		setkey t t
		setkey y y
		setkey u u
		setkey i i
		setkey o o
		setkey p p
		setkey bracketleft bracketleft
		setkey bracketright bracketright
		setkey backslash backslash
		
		setkey Q A
		setkey S S
		setkey D D
		setkey F F
		setkey G G
		setkey H H
		setkey J J
		setkey K K
		setkey L L
		setkey M colon
		setkey percent doublequote
		
		setkey q a
		setkey s s
		setkey d d
		setkey f f
		setkey g g
		setkey h h
		setkey j j
		setkey k k
		setkey l l
		setkey m semicolon
		setkey quote quote
		
		setkey W Z
		setkey X X
		setkey C C
		setkey V V
		setkey B B
		setkey N N
		setkey question M
		setkey period less
		setkey slash greater
		setkey plus question
		
		setkey w z
		setkey x x
		setkey c c
		setkey v v
		setkey b b
		setkey n n
		setkey comma m
		setkey semicolon comma
		setkey colon period
		setkey equal slash" > clavier_grub
	;;
	fr_CH|fr_ch)
		echo "
		setkey tilde tilde
		setkey plus exclam
		setkey doublequote at
		setkey asterisk numbersign
		setkey dollar dollar
		setkey percent percent
		setkey ampersand caret
		setkey slash ampersand
		setkey parenleft asterisk
		setkey parenright parenleft
		setkey equal parenright
		setkey question underscore
		setkey backquote plus
		
		setkey 1 1
		setkey 2 2
		setkey 3 3
		setkey 4 4
		setkey 5 5
		setkey 6 6
		setkey 7 7
		setkey 8 8
		setkey 9 9
		setkey 0 0
		setkey quote minus
		setkey caret equal
		
		setkey Q Q
		setkey W W
		setkey E E
		setkey R R
		setkey T T
		setkey Z Y
		setkey U U
		setkey I I
		setkey O O
		setkey P P
		setkey braceleft braceleft
		setkey braceright braceright
		setkey bar bar
		
		setkey q q
		setkey w w
		setkey e e
		setkey r r
		setkey t t
		setkey z y
		setkey u u
		setkey i i
		setkey o o
		setkey p p
		setkey bracketleft bracketleft
		setkey bracketright bracketright
		setkey backslash backslash
		
		setkey A A
		setkey S S
		setkey D D
		setkey F F
		setkey G G
		setkey H H
		setkey J J
		setkey K K
		setkey L L
		setkey colon colon
		setkey doublequote doublequote
		
		setkey a a
		setkey s s
		setkey d d
		setkey f f
		setkey g g
		setkey h h
		setkey j j
		setkey k k
		setkey l l
		setkey semicolon semicolon
		setkey quote quote
		
		setkey Y Z
		setkey X X
		setkey C C
		setkey V V
		setkey B B
		setkey N N
		setkey M M
		setkey semicolon less
		setkey colon greater
		setkey minus question
		
		setkey z z
		setkey x x
		setkey c c
		setkey v v
		setkey b b
		setkey n n
		setkey m m
		setkey comma comma
		setkey period period
		setkey minus slash" > clavier_grub
	;;
	es)
		echo "
		setkey backslash tilde
		setkey exclam exclam
		setkey doublequote at
		setkey period numbersign
		setkey dollar dollar
		setkey percent percent
		setkey ampersand caret
		setkey slash ampersand
		setkey parenleft asterisk
		setkey parenright parenleft
		setkey equal parenright
		setkey question underscore
		setkey plus plus
		
		setkey 1 1
		setkey 2 2
		setkey 3 3
		setkey 4 4
		setkey 5 5
		setkey 6 6
		setkey 7 7
		setkey 8 8
		setkey 9 9
		setkey 0 0
		setkey quote minus
		setkey bar equal
		
		setkey Q Q
		setkey W W
		setkey E E
		setkey R R
		setkey T T
		setkey Y Y
		setkey U U
		setkey I I
		setkey O O
		setkey P P
		setkey caret braceleft
		setkey asterisk braceright
		setkey bar bar
		
		setkey q q
		setkey w w
		setkey e e
		setkey r r
		setkey t t
		setkey y y
		setkey u u
		setkey i i
		setkey o o
		setkey p p
		setkey bracketleft bracketleft
		setkey bracketright bracketright
		setkey backslash backslash
		
		setkey A A
		setkey S S
		setkey D D
		setkey F F
		setkey G G
		setkey H H
		setkey J J
		setkey K K
		setkey L L
		setkey colon colon
		setkey doublequote doublequote
		
		setkey a a
		setkey s s
		setkey d d
		setkey f f
		setkey g g
		setkey h h
		setkey j j
		setkey k k
		setkey l l
		setkey braceleft semicolon
		setkey braceright quote
		
		setkey Z Z
		setkey X X
		setkey C C
		setkey V V
		setkey B B
		setkey N N
		setkey M M
		setkey semicolon less
		setkey colon greater
		setkey minus question
		
		setkey z z
		setkey x x
		setkey c c
		setkey v v
		setkey b b
		setkey n n
		setkey m m
		setkey comma comma
		setkey period period
		setkey minus slash" > clavier_grub
	;;
	de)
		echo "
		setkey caret tilde
		setkey exclam exclam
		setkey doublequote at
		setkey asterisk numbersign
		setkey dollar dollar
		setkey percent percent
		setkey ampersand caret
		setkey slash ampersand
		setkey parenleft asterisk
		setkey parenright parenleft
		setkey equal parenright
		setkey question underscore
		setkey quote plus
		
		setkey 1 1
		setkey 2 2
		setkey 3 3
		setkey 4 4
		setkey 5 5
		setkey 6 6
		setkey 7 7
		setkey 8 8
		setkey 9 9
		setkey 0 0
		setkey parenright minus
		setkey backslash equal
		
		setkey Q Q
		setkey W W
		setkey E E
		setkey R R
		setkey T T
		setkey Z Y
		setkey U U
		setkey I I
		setkey O O
		setkey P P
		setkey braceleft braceleft
		setkey asterisk braceright
		setkey bar bar
		
		setkey q q
		setkey w w
		setkey e e
		setkey r r
		setkey t t
		setkey z y
		setkey u u
		setkey i i
		setkey o o
		setkey p p
		setkey bracketleft bracketleft
		setkey plus bracketright
		setkey backslash backslash
		
		setkey A A
		setkey S S
		setkey D D
		setkey F F
		setkey G G
		setkey H H
		setkey J J
		setkey K K
		setkey L L
		setkey colon colon
		setkey doublequote doublequote
		
		setkey a a
		setkey s s
		setkey d d
		setkey f f
		setkey g g
		setkey h h
		setkey j j
		setkey k k
		setkey l l
		setkey semicolon semicolon
		setkey quote quote
		
		setkey Y Z
		setkey X X
		setkey C C
		setkey V V
		setkey B B
		setkey N N
		setkey M M
		setkey semicolon less
		setkey colon greater
		setkey underscore question
		
		setkey y z
		setkey x x
		setkey c c
		setkey v v
		setkey b b
		setkey n n
		setkey m m
		setkey comma comma
		setkey period period
		setkey minus slash" > clavier_grub
	;;
	us)
		echo "" > clavier_grub
	;;
esac
cd /root
}
#----------------------------------------------------------------------------------------------------
#----------------------------------------------------------------------------------------------------
main()
{
if ( test -e /usr/share/oscar/usr/choix_clavier )
then
	choix_clavier=`cat /usr/share/oscar/usr/choix_clavier`
else
	echo "fr" > /usr/share/oscar/usr/choix_clavier
	choix_clavier=fr
fi
if ! ( test -e /usr/share/oscar/usr/clavier )
then
	mkdir /usr/share/oscar/usr/clavier
fi
}
#----------------------------------------------------------------------------------------------------
PATH="/usr/share/oscar/bin:$PATH"
/usr/share/oscar/usr/version_theme_oscar
main
convertir_clavier	# configure pour grub
#---------------------------------------------------------------------------------------------------
